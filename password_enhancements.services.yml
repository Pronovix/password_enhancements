services:
  plugin.manager.password_constraint:
    class: Drupal\password_enhancements\PasswordConstraintPluginManager
    parent: default_plugin_manager

  password_enhancements.init:
    class: Drupal\password_enhancements\EventSubscriber\Init
    arguments: ['@current_user', '@entity_type.manager', '@messenger', '@session_manager']
    tags:
      - { name: event_subscriber }

  password_enhancements.navigation_lock:
    class: Drupal\password_enhancements\EventSubscriber\NavigationLock
    arguments: ['@messenger', '@module_handler', '@session_manager']
    tags:
      - { name: event_subscriber }

  password_enhancements.access:
    class: Drupal\password_enhancements\Access\AccessControlHandler
    arguments: ['@session_manager']

  password_enhancements.breadcrumb_entities:
    class: Drupal\password_enhancements\Breadcrumb\EntityBreadcrumbBuilder
    arguments: ['@router.request_context', '@access_manager', '@router', '@path_processor_manager', '@config.factory',  '@title_resolver', '@current_user', '@path.current', '@entity_type.manager', '@path.matcher']
    tags:
      - { name: breadcrumb_builder, priority: 100 }
